# حقيبة المؤمن+

تطبيق "حقيبة المؤمن+" يوفر حزمة أدوات إيمانية متكاملة للمستخدم الشيعي في العراق مع تجربة عربية كاملة من اليمين لليسار، واستخدام خط كايرو، ودعم الوضعين الفاتح والداكن، وتركيز على الأداء العالي والعمل دون اتصال بالإنترنت.

## المتطلبات

- Flutter 3.24 أو أحدث
- Android SDK مع أدوات المنصات 35
- JDK 17

## خطوات البناء والتشغيل

```bash
flutter pub get
flutter run -d android
```

إنشاء حزمة APK أو AppBundle:

```bash
flutter build apk --release
flutter build appbundle --release
```

## تهيئة التوقيع (Keystore)

1. إنشاء keystore مخصّص:
   ```bash
   keytool -genkey -v -keystore moemen.keystore -alias moemen_key -keyalg RSA -keysize 2048 -validity 10000
   ```
2. ضع الملف `moemen.keystore` داخل `android/keystore/` (لا تقم برفعه للمستودع).
3. أنشئ ملفًا باسم `android/key.properties` يحتوي:
   ```
   storeFile=../keystore/moemen.keystore
   storePassword=YOUR_STORE_PASSWORD
   keyAlias=moemen_key
   keyPassword=YOUR_KEY_PASSWORD
   ```
4. سيقرأ ملف `build.gradle` القيم تلقائيًا أثناء البناء.

## الخصوصية

- لا يتم إرسال أي بيانات شخصية خارج الجهاز.
- يتم تخزين المفضلات والإعدادات محليًا باستخدام Hive وSharedPreferences.
- يتم بث التلاوات عبر الإنترنت اختياريًا، ويمكن تخزينها مؤقتًا محليًا.
- لا يوجد أي تتبع أو تحليلات افتراضيًا.

## الميزات الرئيسة

- لوحة رئيسية مع شريط تنقل سفلي (5 تبويبات) وعرض شرائح للأذكار اليومية.
- القرآن الكريم مع فهرس كامل للـ114 سورة، مزايا البحث، العلامات المرجعية، المتابعة الصوتية، وإدارة التخزين المؤقت.
- مكتبة أحاديث (النبي، نهج البلاغة، الإمام الحسين) مع بحث ومشاركة ونسخ ومفضلة.
- حساب مواقيت الصلاة بطريقة الجعفري مع اكتشاف الموقع، ضبط المحافظات يدويًا، التعديلات الدقيقة، وجدولة الأذان عبر WorkManager وAlarmManager.
- أدعية أساسية، مسبحة إلكترونية، تقويم هجري-ميلادي مع تصحيح، قبلة باستخدام المستشعرات، أذكار يومية مع عدّاد، وإعدادات متقدمة.
- إشعارات خلفية لحديث كل ساعة، تنبيهات الأذان، وإدارة التخزين المؤقت للتلاوات.

## الاختبارات والمتابعة

- استخدم `flutter test` لتشغيل اختبارات الوحدة (عند إضافتها).
- قم بتفعيل وضع المطور في شاشة الإعدادات لمشاهدة أدوات الاختبار (يمكن التنفيذ عبر النقر الطويل على عنوان الإعدادات 7 مرات).

## قائمة التحقق للقبول

1. **مواقيت الصلاة**: تحقق يدويًا من مواقيت بغداد، النجف، كربلاء مع الانحراف المسموح (±2 دقيقة) بعد ضبط الإزاحات.
2. **تنبيهات الأذان**: جدولة الأوقات والتأكد من عمل الإشعارات حتى مع إغلاق التطبيق، مع احترام وضع عدم الإزعاج.
3. **الاتجاه نحو القبلة**: تحقق من عرض الاتجاه الصحيح ومعايرة المستشعر عند الحاجة.
4. **حديث كل ساعة**: فعّل الخيار وراقب وصول حديث مختلف في كل ساعة.
5. **تلاوة سورة البقرة**: اختبر البث عبر الإنترنت، الإيقاف والاستئناف، وإعادة التشغيل.
6. **التقويم**: تأكد من التحويل بين الهجري والميلادي وتطبيق تصحيح ±1 يوم.
7. **الأداء**: تحقق من زمن بداية أقل من 1.5 ثانية على جهاز متوسط، وسلاسة التصفح (60fps).
8. **الحجم**: احسب حجم الـAPK النهائي وتحقق من بقائه دون 60MB.

## ملاحظات إضافية

- التطبيق يستخدم خط كايرو عبر حزمة `google_fonts`.
- يدعم العمل دون اتصال بفضل البيانات المخزّنة في `assets/json`.
- يمكن إدارة التخزين المؤقت للتلاوات من شاشة الإعدادات.
- لا يتم تضمين أي نصوص قرآنية كاملة مراعاةً للحقوق، لكن البنية مجهزة لاستيرادها مستقبلاً.
